# 微信AI助手项目介绍

## 项目概述

微信AI助手是一个基于Python开发的桌面应用程序，它能够连接微信客户端并通过人工智能技术自动回复消息。该项目旨在为用户提供一个智能聊天助手，可以监听指定的微信联系人或群组，并使用AI模型（如OpenAI的GPT系列）来生成回复，实现智能化的消息处理和自动回复功能。

## 功能特点

### 核心功能
1. **微信消息监听**：可以监听指定的微信联系人或群组的消息
2. **AI自动回复**：使用OpenAI API自动生成回复内容
3. **消息合并处理**：将短时间内的多条消息合并为一个上下文进行处理
4. **可视化界面**：提供直观的用户界面，方便操作和监控
5. **灵活配置**：支持自定义AI参数、系统提示词和服务地址

### 特色功能
1. **多目标监听**：支持同时监听多个联系人或群组
2. **历史消息追踪**：记录并显示消息历史，方便回顾
3. **消息去重**：智能识别重复消息，避免重复回复
4. **参数调优**：提供多种AI参数配置，可以调整回复的创造性、多样性等
5. **快速模板**：提供多种AI角色模板，方便快速切换AI行为风格

## 技术架构

### 系统组件
- **主程序(main.py)**：应用程序入口，协调各个模块的工作
- **微信处理器(wechat_handler.py)**：负责与微信客户端交互，监听和发送消息
- **AI处理器(ai_handler.py)**：负责调用OpenAI API，生成回复内容
- **用户界面(ui.py)**：提供图形用户界面，显示消息和状态
- **消息缓存(message_cache.py)**：处理消息缓存和合并逻辑
- **配置管理(config.py)**：管理应用程序配置
- **日志系统(logger.py)**：记录程序运行日志
- **异常处理(exception_handler.py)**：全局异常捕获和处理

### 技术栈
- **编程语言**：Python
- **GUI框架**：PyQt5
- **微信接口**：wxauto
- **AI API**：OpenAI API
- **其他依赖**：requests, PyUserInput等

## 使用方法

### 安装与配置
1. 确保已安装微信PC客户端并已登录
2. 启动应用程序
3. 点击"配置"按钮，设置OpenAI API密钥和其他参数
4. 如使用非官方API服务，请在"服务地址"中填入对应的API地址

### 监听微信消息
1. 在联系人列表中添加需要监听的联系人或群组
2. 选择要监听的目标，点击"添加监听"
3. 点击"开始监听"按钮启动服务
4. 监听过程中可随时添加或移除监听目标

### 自定义AI行为
1. 在配置界面中调整系统提示词，定义AI助手的角色和行为
2. 可以选择预设的快速模板，如"友好助手"、"专业顾问"等
3. 在高级参数选项卡中，调整AI回复的创造性、多样性等参数

### 查看消息记录
1. 消息记录会实时显示在主界面的消息列表中
2. 可以使用"清空日志"按钮清除界面上的消息记录
3. 也可以使用"保存日志"功能将消息记录保存到文件

## 注意事项

1. 需要保持微信客户端处于打开状态才能正常使用
2. 首次添加监听目标时，可能需要手动切换微信窗口
3. 使用非官方OpenAI API服务时，需要确认该服务支持相应的模型
4. AI处理和回复可能有一定延迟，取决于网络状况和API响应速度
5. 请谨慎使用自动回复功能，避免过度干扰他人

## 扩展与开发

项目支持二次开发和功能扩展:
1. 可以通过修改ai_handler.py添加其他AI服务提供商的支持
2. 可以扩展wechat_handler.py来支持更多的微信功能
3. 界面和交互逻辑可以通过修改ui.py来定制

## 系统要求

- 操作系统：Windows (支持Windows 10/11)
- 运行环境：Python 3.7+
- 依赖软件：微信PC客户端
- 网络要求：需要稳定的网络连接以访问AI API服务 